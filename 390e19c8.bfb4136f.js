(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),l=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},i=function(e){var t=l(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,o=e.parentName,p=b(e,["components","mdxType","originalType","parentName"]),i=l(n),u=a,d=i["".concat(o,".").concat(u)]||i[u]||m[u]||c;return n?r.a.createElement(d,s(s({ref:t},p),{},{components:n})):r.a.createElement(d,s({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,o=new Array(c);o[0]=u;var s={};for(var b in t)hasOwnProperty.call(t,b)&&(s[b]=t[b]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<c;p++)o[p]=n[p];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},69:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return l}));var a=n(2),r=n(6),c=(n(0),n(103)),o={id:"_react_urx_src_index_",title:"react-urx/src/index",sidebar_label:"react-urx/src/index"},s={unversionedId:"modules/_react_urx_src_index_",id:"modules/_react_urx_src_index_",isDocsHomePage:!1,title:"react-urx/src/index",description:'Documentation \u203a "react-urx/src/index"',source:"@site/docs/modules/_react_urx_src_index_.md",permalink:"/docs/modules/_react_urx_src_index_",editUrl:"https://github.com/virtuoso-dev/urx/edit/master/packages/docs/docs/docs/modules/_react_urx_src_index_.md",sidebar_label:"react-urx/src/index",sidebar:"typedoc",previous:{title:"urx/src/utils",permalink:"/docs/modules/_urx_src_utils_"},next:{title:"SystemPropsMap",permalink:"/docs/interfaces/_react_urx_src_index_.systempropsmap"}},b=[{value:"Simple System wrapped as React Component",id:"simple-system-wrapped-as-react-component",children:[]},{value:"Component Props to Streams",id:"component-props-to-streams",children:[]},{value:"Hooks to Streams",id:"hooks-to-streams",children:[]},{value:"Index",id:"index",children:[{value:"Interfaces",id:"interfaces",children:[]},{value:"Type aliases",id:"type-aliases",children:[]},{value:"Functions",id:"functions",children:[]}]},{value:"Type aliases",id:"type-aliases-1",children:[{value:"RefHandle",id:"refhandle",children:[]}]},{value:"Functions",id:"functions-1",children:[{value:"systemToComponent",id:"systemtocomponent",children:[]}]}],p={rightToc:b};function l(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/index"}),"Documentation")," \u203a ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/modules/_react_urx_src_index_"}),'"react-urx/src/index"')),Object(c.b)("p",null,"react-urx ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/modules/_react_urx_src_index_#systemtocomponent"}),"systemToComponent")," wraps urx systems in to UI ",Object(c.b)("strong",{parentName:"p"},"logic provider components")," by mapping the system input and output streams to the component input / output points."),Object(c.b)("h3",{id:"simple-system-wrapped-as-react-component"},"Simple System wrapped as React Component"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"const sys = system(() => {\n  const foo = statefulStream(42)\n  return { foo }\n})\n\nconst { Component: MyComponent, useEmitterValue } = systemToComponent(sys, {\n  required: { fooProp: 'foo' },\n})\n\nconst Child = () => {\n  const foo = useEmitterValue('foo')\n  return <div>{foo}</div>\n}\n\nconst App = () => {\n  return <Comp fooProp={42}><Child /><Comp>\n}\n")),Object(c.b)("h3",{id:"component-props-to-streams"},"Component Props to Streams"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Component Traits"),Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Mapped Stream Type"),Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Notes"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Value properties"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Stateful input streams"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Value properties can be thought of as system parameters, which can change over time.  In practice, such parameters must have some sort of initial value, even if it is undefined.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Event properties"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Stateless output streams"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Component events are special properties which accept callbacks. The mapping applies those callbacks as subscriptions to the specified stream.  It is counter intuitive to fire event handlers upon component initialization,  so you should use stateless streams for events.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Methods"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Stateless input streams"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Component methods (limited to a single argument) publish  the passed argument into the specified stream.")))),Object(c.b)("h3",{id:"hooks-to-streams"},"Hooks to Streams"),Object(c.b)("p",null,"The resulting provider component does not have UI. Instead, it exposes hooks which allow its child components to interact with the underlying system.\nIn React, this happens through the following hooks:"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Hook"),Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Stream Type"),Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Notes"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"useEmitterValue")),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Stateful output streams"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The hook uses ",Object(c.b)("inlineCode",{parentName:"td"},"useState")," internally and re-renders the component when the stream emits a value.  Works only with stateful streams.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"useEmitter")),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Output streams"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Calls the specified callback when the stream emits a value. Does not re-render the component,  works with both stateful and stateless streams.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"usePublisher")),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Input streams"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Returns a function which can publish the passed argument into the stream.  Works with both stateful and stateless streams.")))),Object(c.b)("p",null,"Reducing the various component I/O points to streams and modeling their interactions\neases implementing complex yet resilient UI components and allows testing of the component logic outside\nthe React lifecycle."),Object(c.b)("h2",{id:"index"},"Index"),Object(c.b)("h3",{id:"interfaces"},"Interfaces"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/interfaces/_react_urx_src_index_.systempropsmap"}),"SystemPropsMap"))),Object(c.b)("h3",{id:"type-aliases"},"Type aliases"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/modules/_react_urx_src_index_#refhandle"}),"RefHandle"))),Object(c.b)("h3",{id:"functions"},"Functions"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/modules/_react_urx_src_index_#systemtocomponent"}),"systemToComponent"))),Object(c.b)("h2",{id:"type-aliases-1"},"Type aliases"),Object(c.b)("h3",{id:"refhandle"},"RefHandle"),Object(c.b)("p",null,"\u01ac ",Object(c.b)("strong",{parentName:"p"},"RefHandle"),": ",Object(c.b)("em",{parentName:"p"},"T extends ForwardRefExoticComponent\u2039RefAttributes\u2039infer Handle\u203a\u203a ? Handle : never")),Object(c.b)("p",null,Object(c.b)("em",{parentName:"p"},"Defined in ",Object(c.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/virtuoso-dev/urx/blob/00fe13b/packages/react-urx/src/index.ts#L191"}),"react-urx/src/index.ts:191"))),Object(c.b)("p",null,"Used to correctly specify type refs for system components"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-tsx"}),"const s = system(() => { return { a: statefulStream(0) } })\nconst { Component } = systemToComponent(s)\n\nconst App = () => {\n const ref = useRef<RefHandle<typeof Component>>()\n return <Component ref={ref} />\n}\n")),Object(c.b)("h2",{id:"functions-1"},"Functions"),Object(c.b)("h3",{id:"systemtocomponent"},"systemToComponent"),Object(c.b)("p",null,"\u25b8 ",Object(c.b)("strong",{parentName:"p"},"systemToComponent"),"\u2039",Object(c.b)("strong",{parentName:"p"},"SS"),", ",Object(c.b)("strong",{parentName:"p"},"M"),", ",Object(c.b)("strong",{parentName:"p"},"S"),", ",Object(c.b)("strong",{parentName:"p"},"R"),"\u203a(",Object(c.b)("inlineCode",{parentName:"p"},"systemSpec"),": SS, ",Object(c.b)("inlineCode",{parentName:"p"},"map"),": M, ",Object(c.b)("inlineCode",{parentName:"p"},"Root?"),": R): ",Object(c.b)("em",{parentName:"p"},"object")),Object(c.b)("p",null,Object(c.b)("em",{parentName:"p"},"Defined in ",Object(c.b)("a",Object(a.a)({parentName:"em"},{href:"https://github.com/virtuoso-dev/urx/blob/00fe13b/packages/react-urx/src/index.ts#L206"}),"react-urx/src/index.ts:206"))),Object(c.b)("p",null,"Converts a system spec to React component by mapping the system streams to component properties, events and methods. Returns hooks for querying and modifying\nthe system streams from the component's child components."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Type parameters:")),Object(c.b)("p",null,"\u25aa ",Object(c.b)("strong",{parentName:"p"},"SS"),": ",Object(c.b)("em",{parentName:"p"},"AnySystemSpec")),Object(c.b)("p",null,"\u25aa ",Object(c.b)("strong",{parentName:"p"},"M"),": ",Object(c.b)("em",{parentName:"p"},Object(c.b)("a",Object(a.a)({parentName:"em"},{href:"/docs/interfaces/_react_urx_src_index_.systempropsmap"}),"SystemPropsMap"),"\u2039SS\u203a")),Object(c.b)("p",null,"\u25aa ",Object(c.b)("strong",{parentName:"p"},"S"),": ",Object(c.b)("em",{parentName:"p"},"SR\u2039SS\u203a")),Object(c.b)("p",null,"\u25aa ",Object(c.b)("strong",{parentName:"p"},"R")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Parameters:")),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Name"),Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Type"),Object(c.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"systemSpec")),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"SS"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The return value from a ",Object(c.b)("a",Object(a.a)({parentName:"td"},{href:"/docs/modules/_urx_src_system_#system"}),"system")," call.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"map")),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"M"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The streams to props / events / methods mapping Check ",Object(c.b)("a",Object(a.a)({parentName:"td"},{href:"/docs/interfaces/_react_urx_src_index_.systempropsmap"}),"SystemPropsMap")," for more details.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(c.b)("inlineCode",{parentName:"td"},"Root?")),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"R"),Object(c.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"The optional React component to render. By default, the resulting component renders nothing, acting as a logical wrapper for its children.")))),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns:")," ",Object(c.b)("em",{parentName:"p"},"object")),Object(c.b)("p",null,"an object containing the following:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"Component"),": the React component."),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"useEmitterValue"),": a hook that lets child components use values emitted from the specified output stream."),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"useEmitter"),": a hook that calls the provided callback whenever the specified stream emits a value."),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"usePublisher"),": a hook which lets child components publish values to the specified stream.",Object(c.b)("hr",null))),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("strong",{parentName:"p"},"Component"),": ",Object(c.b)("em",{parentName:"p"},"ForwardRefExoticComponent\u2039PropsWithoutRef\u2039CompProps\u203a & RefAttributes\u2039MethodsFromPropMap\u2039SS, M\u203a\u203a\u203a"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("strong",{parentName:"p"},"useEmitter"),": ",Object(c.b)("em",{parentName:"p"},"useEmitter"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("strong",{parentName:"p"},"useEmitterValue"),": ",Object(c.b)("em",{parentName:"p"},"useEmitterValue"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("strong",{parentName:"p"},"usePublisher"),": ",Object(c.b)("em",{parentName:"p"},"usePublisher")))))}l.isMDXComponent=!0}}]);